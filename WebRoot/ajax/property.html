<div class="row">
	<div id="breadcrumb" class="col-xs-12">
		<a href="#" class="show-sidebar">
			<i class="fa fa-bars"></i>
		</a>
		<ol class="breadcrumb pull-left">
			<li><a class="ajax-link" href="./ajax/dashboard.html">首页</a></li>
			<li><a href="#">资产管理</a></li>
		</ol>
	</div>
	<!-- /#breadcrumb -->
</div>
<!-- /.row -->
<div class="col-xs-12">
	<div class="box">
		<div class="box-header">
			<div class="box-name">
				<span>资产信息</span>
			</div>
			<div class="box-icons">
				<a class="collapse-link">
					<i class="fa fa-chevron-up"></i>
				</a>
				<!-- <a class="expand-link">
					<i class="fa fa-expand"></i>
				</a> -->
				<a class="close-link">
					<i class="fa fa-times"></i>
				</a>
			</div>
			<div class="no-move"></div>
		</div>
		<div class="box-content clearfix">
			<table id="propertyTable" class="table table-condensed table-striped table-bordered table-block table-hover property-table">
				<thead>
					<tr>
						<th>名称</th>
						<th>类型</th>
						<th>地址</th>
						<th>上次更新时间</th>
					<!-- 	<th>上次更新方式</th>
					<th>核实状态</th>
					<th>描述</th> -->
					</tr>
				</thead>
				<tbody>
					<tr data-right-menu="#propertyDropMenu" data-id="property01">
						<td>property01</td>
						<td>Cisco IOS(WS-C3550-12T)</td>
						<td>202.181.225.1</td>
						<td>01:00:01 2014-10-26</td>
						<!-- <td>Telnet, SNMP, PING</td>
						<td><span class="label label-success">Pending</span></td>
						<td></td> -->
					</tr>
					<tr data-right-menu="#propertyDropMenu" data-id="property02">
						<td>property02</td>
						<td>Cisco IOS(WS-C3550-12T)</td>
						<td>202.181.225.2</td>
						<td>01:00:02 2014-10-26</td>
						<!-- <td>Telnet, SNMP, PING</td>
						<td><span class="label label-success">Pending</span></td>
						<td></td> -->
					</tr>
				</tbody>
			</table>
			
			<!-- /.col-sm-6 -->
		</div>
		<!-- /.box-content -->
	</div>
	<!-- /.box -->


</div>
<!-- /.col-xs-12 -->

<div class="dropdown right-click-menu" id="propertyDropMenu">
	<ul aria-labelledby="dropdownMenu" role="menu" class="dropdown-menu">
		<li id="interface">
			<a href="#" onclick="configProperty('{1}')" tabindex="-1">配置
			</a>
		</li>
		<li id="interface">
			<a href="#" onclick="inserfaceStatics('{1}')" tabindex="-1">接口状态
			</a>
		</li>
		<li id="tcpPort">
			<a href="#" onclick="showTerminal('TCP Port', '{1}')" tabindex="-1">TCP Port
			</a>
		</li>
		<li id="ssh">
			<a href="#" onclick="showTerminal('SSH', '{1}')" tabindex="-1">SSH
			</a>
		</li>
		<li id="telnet">
			<a href="#" onclick="showTerminal('telnet', '{1}')" tabindex="-1">Telnet
			</a>
		</li>
	</ul>
</div>
<div class="row hidden-xs hidden-sm" id="propertyInfo">

	<!-- Nav tabs
	<ul class="nav nav-tabs" role="tablist">
		<li class="active"><a href="#tab-zonglan" role="tab" data-toggle="tab">总览</a></li>
		<li><a href="#tab-jkzt" role="tab" data-toggle="tab">健康状态</a></li>
		<li><a href="#tab-lxxx" role="tab" data-toggle="tab">联系信息</a></li>
		<li><a href="#tab-wk" role="tab" data-toggle="tab">网卡</a></li>
		<li><a href="#tab-sw" role="tab" data-toggle="tab">软件</a></li>
		<li><a href="#tab-hw" role="tab" data-toggle="tab">硬件</a></li>
		<li><a href="#tab-conf" role="tab" data-toggle="tab">配置</a></li>
		<li><a href="#tab-relation" role="tab" data-toggle="tab">关系</a></li>
		
	</ul> -->

	<!-- Tab panes -->
	<div class="panel-body"><!-- tab-content  -->
		<!-- <div class="tab-pane active" id="tab-zonglan"> -->
		<div class="col-xs-12 col-sm-6">
			<div class="box">
				<div class="box-header">
					<div class="box-name">基础</div>
				</div>
				<div class="box-content clearfix" id="basic">
					<div class="row">
						<label class="control-label col-sm-3">名称</label>
						<div class="col-sm-9">Router1</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">IP</label>
						<div class="col-sm-9">10.0.21.15</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">类型</label>
						<div class="col-sm-9">Cisco IOS</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">版本</label>
						<div class="col-sm-9">15.1(4)M4, RELEASE SOFTWARE(fc1)</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">硬件序列号</label>
						<div class="col-sm-9">FGL1615268D</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">资产联系人</label>
						<div class="col-sm-9">Kelly</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xs-12 col-sm-6">
			<div class="box">
				<div class="box-header">
					<div class="box-name">位置信息</div>
				</div>
				<div class="box-content clearfix" id="position">
					<div class="row">
						<label class="control-label col-sm-3 col-md-2">国家</label>
						<div class="col-sm-9">中国</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3 col-md-2">省</label>
						<div class="col-sm-9">湖南</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3 col-md-2">市</label>
						<div class="col-sm-9">长沙</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3 col-md-2">坐标</label>
						<div class="col-sm-9">122.3, 58.22</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3 col-md-2">区域</label>
						<div class="col-sm-9">芙蓉区</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3 col-md-2">位置</label>
						<div class="col-sm-9">长沙晚报4栋10楼</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xs-12 col-sm-6">
			<div class="box">
				<div class="box-header">
					<div class="box-name">描述信息</div>
				</div>
				<div class="box-content clearfix">
					<p>NetScreen-ISG 1000 version 5.0.0r9.2 (SN:NetScreen-ISG 1000 version 5.0.0r9.2 (SN:NetScreen-ISG 1000 version 5.0.0r9.2 (SN:NetScreen-ISG 1000 version 5.0.0r9.2 (SN:NetScreen-ISG 1000 version 5.0.0r9.2 (SN:</p> 
				</div>
			</div>
		</div>

		<div class="col-xs-12 col-sm-6">
			<div class="box">
				<div class="box-header">
					<div class="box-name">健康状态总览</div>
				</div>
				<div class="box-content clearfix" id="health">
					<div class="row">
						<label class="control-label col-sm-3">可用性</label>
						<div class="col-sm-9">在线</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">性能</label>
						<div class="col-sm-9">正常</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">告警级别</label>
						<div class="col-sm-9 alarm-level">高：<span class="level-high">0</span>    中：<span class="level-mid">0</span>    低：<span class="level-low">0</span><span class="pie pl-half"></span></div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">告警特性</label>
						<div class="col-sm-9 alarm-feature">可用性：<a href="#" class="useablity">0</a> 性能：<a href="#" class="performance">0</a> 安全：<a href="#" class="security">0</a><a class="pie pl-half"></a></div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xs-12 col-sm-6">
			<div class="box">
				<div class="box-header">
					<div class="box-name">可用性 <span class="pull-right">趋势(1小时内) </span> </div>
				</div>
				<div class="box-content clearfix" id="useablity">
					<div class="row">
						<label class="control-label col-sm-3">健康状态</label>
						<div class="col-sm-9">正常</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">Ping丢失率</label>
						<div class="col-sm-9" id="pingLost"></div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">Ping响应时间</label>
						<div class="col-sm-9" id="pingResponse"></div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">Tcp Port</label>
						<div class="col-sm-9" id="tcp"></div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">告警</label>
						<div class="col-sm-9" id="alarm"></div>
					</div>
				</div>
			</div>
			<!-- /.box -->
		</div>


		<div class="col-xs-12 col-sm-6">
			<div class="box">
				<div class="box-header">
					<div class="box-name">性能 <span class="pull-right">趋势(1小时内) </span> </div>
				</div>
				<div class="box-content clearfix" id="capability">
					<div class="row">
						<label class="control-label col-sm-3">健康状态</label>
						<div class="col-sm-9">在线</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">性能</label>
						<div class="col-sm-9">正常</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">告警级别</label>
						<div class="col-sm-9 alarm-level">高：<span class="level-high">0</span>    中：<span class="level-mid">0</span>    低：<span class="level-low">0</span><span class="pie pl-half"></span></div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">告警特性</label>
						<div class="col-sm-9 alarm-feature">可用性：<a href="#" class="useablity">0</a>    性能：<a href="#" class="performance">0</a>   安全：<a href="#" class="security">0</a><a class="pie pl-half"></a></div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="box">
				<div class="box-header">
					<div class="box-name">安全</div>
				</div>
				<div class="box-content clearfix" id="security">
					<div class="row">
						<label class="control-label col-sm-3">安全等级</label>
						<div class="col-sm-9">安全</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">漏洞数</label>
						<div class="col-sm-9">11</div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">风险级别</label>
						<div class="col-sm-9 danger-level">高：<span class="level-high">0</span>    中：<span class="level-mid">0</span>    低：<span class="level-low">0</span><span class="pie pl-half"></span></div>
					</div>
					<div class="row">
						<label class="control-label col-sm-3">告警趋势</label>
						<div class="col-sm-9" id="alarmTrend"></div>
					</div>
				</div>
			</div>
		</div>
		<!-- </div>
		<div class="tab-pane" id="tab-jkzt"><h1>健康状态</h1></div>
		<div class="tab-pane" id="tab-lxxx"><h1>联系信息</h1></div>
		<div class="tab-pane" id="tab-wk"><h1>网卡</h1></div>
		<div class="tab-pane" id="tab-sw"><h1>软件</h1></div>
		<div class="tab-pane" id="tab-hw"><h1>硬件</h1></div>
		<div class="tab-pane" id="tab-conf"><h1>配置</h1></div>
		<div class="tab-pane" id="tab-relation"><h1>关系</h1></div> -->
		<!-- 资产配置 -->
		<div class="overlay-frm hide" id="propertyFrm"><!--  hide -->
			<div class="col-xs-12">
				<div class="box">
					<div class="box-header">
						<div class="pull-right">
							<a href="#" class="mr">保存</a><a href="#" class="btn-cancel mr">取消</a>
						</div>
						<div class="box-name">
							<span>资产配置</span>
						</div>
						<div class="no-move"></div>
					</div>
					<!-- /.box-header -->
					<div class="box-content">
						<form action="#" class="form-horizontal">
							<fieldset>
								<legend>基础信息</legend>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label for="propertyName" class="control-label col-sm-3">名称：</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="propertyName" placeholder="输入资产名称">
											</div>
										</div>
										<!-- /.form-group -->
										<div class="form-group">
											<label for="propertyIP" class="control-label col-sm-3">IP：</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="propertyIP" placeholder="输入资产IP">
											</div>
										</div>
										<!-- /.form-group -->
										<div class="form-group">
											<label for="propertyType" class="control-label col-sm-3">类型：</label>
											<div class="col-sm-8">
												<select class="form-control" id="propertyType" placeholder="选择资产类型">
													<option value="1">1</option>
													<option value="2">2</option>
													<option value="3">3</option>
												</select>
											</div>
										</div>
										<!-- /.form-group -->
										<div class="form-group">
											<label for="propertyVersion" class="control-label col-sm-3">版本：</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="propertyVersion" placeholder="输入资产版本">
											</div>
										</div>
										<!-- /.form-group -->
										<div class="form-group">
											<label for="propertyImportance" class="control-label col-sm-3">重要等级：</label>
											<div class="col-sm-8">
												<select class="form-control" id="propertyImportance" placeholder="选择重要等级">
													<option value="mCritical">非常核心</option>
													<option value="critical">核心</option>
													<option value="inportant">重要</option>
													<option value="normal">一般</option>
												</select>
											</div>
										</div>
										<!-- /.form-group -->
										<div class="form-group">
											<label for="propertyDepart" class="control-label col-sm-3">所属部门：</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="propertyDepart" placeholder="输入资产名称">
											</div>
										</div>
										<!-- /.form-group -->
										<div class="form-group">
											<label for="propertyContact" class="control-label col-sm-3">联系人：</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="propertyContact" placeholder="输入联系人">
											</div>
										</div>
										<!-- /.form-group -->
									</div>
									<!-- /.col-md-6 -->
									
									<div class="col-md-6">
										<div class="form-group">
											<label for="propertyDesc" class="control-label col-sm-3">描述：</label>
											<div class="col-sm-8">
												<textarea type="text" class="form-control" id="propertyDesc"></textarea>
											</div>
										</div>
										<!-- /.form-group -->
										<div class="form-group">
											<label for="propertyDesc" class="control-label col-sm-3">备注：</label>
											<div class="col-sm-8">
												<textarea type="text" class="form-control" id="propertyRec"></textarea>
											</div>
										</div>
										<!-- /.form-group -->
									</div>
									<!-- /.col-md-6 -->
								</div>
								<!-- /.row -->
							</fieldset>

							<fieldset>
								<legend>地理位置</legend>
								<div class="row">
									<div class="col-sm-6 col-md-4">
										<div class="form-group">
											<label for="propertyCountry" class="control-label col-sm-3">国家：</label>
											<div class="col-sm-8">
												<select class="form-control" id="propertyCountry">

													<option value=""></option>	
												</select>
											</div>
										</div>
										<!-- /.form-group -->
									</div>
									<!-- /.col-md-4 -->
									<div class="col-sm-6 col-md-4">
										<div class="form-group">
											<label for="propertyProvince" class="control-label col-sm-3">省：</label>
											<div class="col-sm-8">
												<select class="form-control" id="propertyProvince">
													<option value=""></option>	
												</select>
											</div>
										</div>
										<!-- /.form-group -->
									</div>
									<!-- /.col-md-4 -->
									<div class="col-sm-6 col-md-4">
										<div class="form-group">
											<label for="propertyCity" class="control-label col-sm-3">市：</label>
											<div class="col-sm-8">
												<select class="form-control" id="propertyCity">
													<option value=""></option>
												</select>
											</div>
										</div>
										<!-- /.form-group -->
									</div>
									<!-- /.col-md-4 -->
									<div class="col-sm-6 col-md-4">
										<div class="form-group">
											<label for="propertyArea" class="control-label col-sm-3">区域：</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="propertyArea">
											</div>
										</div>
										<!-- /.form-group -->
									</div>
									<!-- /.col-md-4 -->
									<div class="col-sm-6 col-md-8">
										<div class="form-group">
											<label for="propertyFloor" class="control-label col-sm-3">楼层：</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="propertyFloor">
											</div>
										</div>
										<!-- /.form-group -->
									</div>
									<!-- /.col-md-4 -->
								</div>
								<!-- /.row -->
							</fieldset>

							<fieldset>
								<legend>维护设定</legend>
								<div class="row">
									<div class="col-sm-6">
										<div class="form-group">
											<label for="propertyFloor" class="control-label col-sm-3">开始时间：</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="startTime">
											</div>
										</div>
										<!-- /.form-group -->
									</div>
									<!-- /.col-md-4 -->
								</div>
								<!-- /.row -->
							</fieldset>
						</form>
					</div>
					<!-- /.box-content -->
				</div>
				<!-- /.box -->
			</div>
			<!-- /.col-xs-12 -->
		</div>
		<!-- /#addpropertyFrm -->

	</div>
	<!-- /.row -->

</div>
</div>
<!-- /.col-xs-12 -->



<!-- terminals -->
<!-- Modal -->
<div class="modal fade" id="terminalModal" tabindex="-1" role="dialog" aria-labelledby="terminalModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h5 class="modal-title" id="terminalModalLabel">运维工具</h5>
			</div>
			<div class="modal-body">
			</div>
		</div>
	</div>
</div>
<!-- /.modal -->


<!-- interface -->
<!-- Modal -->
<div class="modal fade" id="interfaceModal" tabindex="-1" role="dialog" aria-labelledby="interfaceModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h5 class="modal-title" id="interfaceModalLabel">接口状态</h5>
			</div>
			<div class="modal-body">
				<table class="table table-condensed table-striped table-bordered table-block table-hover">
					<thead>
						<th>接口名称</th>
						<th>AVG(输出接口使用率)</th>
						<th>AVG(输出包错误率)</th>
						<th>AVG(输入接口使用率)</th>
						<th>AVG(输入包错误率)</th>
						<th>AVG(发包速率)</th>
						<th>AVG(收包速率)</th>
					</thead>
					<tbody>
						<tr>
							<td>Tunnel17</td>
							<td>80.71</td>
							<td>0.00</td>
							<td>76.08</td>
							<td>0.00</td>
							<td>7264.05</td>
							<td>5357.21</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
<!-- /.modal -->

<script type="text/javascript">
	function tableReady() {
		dataTable('#propertyTable', {
			"processing": true,
        	"serverSide": true,
			"ajax": 'queryAllDevice.do',
	        "order": [
	        	[1, 'asc']
	        ],
	        "columns": [{
	            "class": "username",
	            "data": "username"
	        }, {
	            "class": "password",
	            "data": "password"
	        }, {
	            "class": "name",
	            "data": "name"
	        }, {
	            "class": "isAdmin",
	            "data": "isAdmin"
	        }/*, {
	            "class": "action",
	            "orderable": false,
	            "defaultContent": "<button class='btn btn-default btn-xs modal-btn user-edit''>\
	            <span class='glyphicon glyphicon-pencil'></span> 编辑</button> \
	            <button class='btn btn-danger btn-xs user-remove'>\
	            <span class='glyphicon glyphicon-trash'></span> 删除\
	            </button>"
	        }*/]
		});
		/*以下函数是否需要在datatables重绘之后重新执行？*/
		tableTrClick('#propertyTable', function(propertyId){
			console.log(propertyId+' clicked');
		//远程请求数据
		//success函数
		//
		fillForm(propertyId);
	});
		fillForm('property01');
	}

	/**
	 * 单击资产列表后显示详细信息
	 * @param  {[String]} propertyId [资产ID]
	 */
	 function fillForm(propertyId) {
	//graphs
	console.log("fill form : " + propertyId);
		//test
		var _dataArr = [];
		var _data = [];
		for (var i = 0; i < 20; ++i) { //插入数据
			_val = getRandomData(1, 10, 60, 0);
			_dataArr.push([new Date("2014-11-10 15:" + i + ":00"), _val]);
		}
		function getRandomData(base, range, max, min) {
			var _rel = base + Math.floor(Math.random() * range - range / 2);
			_rel = _rel > max ? max * 3 - _rel * 2 : _rel;
			return _rel < min ? min * 3 - _rel * 2 : _rel;
		}
		//test
		SparkLineDrawLineGraph("#pingLost", _dataArr);
		SparkLineDrawLineGraph("#pingResponse", _dataArr);
		SparkLineDrawLineGraph("#alarm", _dataArr);
		SparkLineDrawLineGraph("#alarmTrend", _dataArr);
		//pie graph
		//test
		var level = [3, 2, 5];
		$(".danger-level .level-high").text(level[0]);
		$(".danger-level .level-mid").text(level[1]);
		$(".danger-level .level-low").text(level[2]);
		$(".alarm-level .level-high").text(level[0]);
		$(".alarm-level .level-mid").text(level[1]);
		$(".alarm-level .level-low").text(level[2]);
		SparkLineDrawPieGraph(".danger-level .pie", level);
		SparkLineDrawPieGraph(".alarm-level .pie", level);
		SparkLineDrawPieGraph(".alarm-feature .pie", level, ['#af5e9c', '#f86b4f', '#00529c']);
	}

	/**
	 * 资产配置
	 * @param  {[String]} propertyId [资产ID]
	 */
	 function configProperty(propertyId) {
	 	showOverlayFrm("#propertyFrm");
	 }

	/**
	 * 接口状态
	 * @param  {[String]} propertyId [资产ID]
	 */
	 function inserfaceStatics(propertyId) {
		//ajax
		//...
		//success
		console.log(propertyId);
		$('#interfaceModal').modal('show');
	}

	function terminalReady() {
		//sshTerminal();
	}

	function sparkLineReady() {

	}

	function AllTimePickers() {
		$('#startTime').datetimepicker({
            timeFormat: "HH:mm:ss",
            dateFormat: "yy-mm-dd"
        });
	}

	$(document).ready(function() {
		LoadDataTablesScripts(tableReady);
		LoadTerminalScripts(terminalReady);
		LoadSparkLineScript(sparkLineReady);
		LoadTimePickerScript(AllTimePickers);
		WinMove();
		tableContextMenu();
	});
</script>