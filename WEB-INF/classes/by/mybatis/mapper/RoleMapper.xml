<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  

<mapper namespace="by.mybatis.dao.RoleMapper">  

<select id="query_role_all"  resultType="by.domain.RoleVo">  
	select * from role;
</select>  

<select id="query_role_id" parameterType="String" resultType="by.domain.RoleVo">  
    select * from role where id = #{id};
</select>  
 
<select id="query_uiLink_roleId" parameterType="String" resultType="by.domain.UiLinkVo">  
    select ui.* from roleUi ru left join uiLink ui on ui.id=ru.uiId where roleId = #{roleId};
</select> 
 
<select id="query_uiLink_all" parameterType="String" resultType="by.domain.UiLinkVo">  
    select * from roleUi where roleId = #{roleId};
</select> 

<insert id="insert_role" parameterType="by.domain.RoleVo" >  
    insert into role (id,roleName,description,creator)
    values (#{id},#{roleName},#{description},#{creator});
</insert>  
 
 <insert id="insert_role_ui" parameterType="String" >  
    insert into roleUi (id,roleId,uiId)
    values(uuid(),#{roleId},#{uiId});
</insert> 
 
 <delete id="delete_role" parameterType="String" >  
   delete from role where id=#{roleId};
</delete> 

 <delete id="delete_role_ui" parameterType="String" >  
   delete from roleUi where roleId=#{roleId};
</delete> 

<update id="update_role" parameterType="by.domain.RoleVo" >  
    update role set
	roleName=#{roleName},
	description=#{description},
	creator=#{creator},
	where  id =#{id};
</update> 
</mapper>